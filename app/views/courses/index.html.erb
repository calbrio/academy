<%= render 'shared/navbar' %>
<section class="pt-8 pt-md-11">
  <div class="container">
    <% if @courses.any? %>
      <div class="row">
        <% @courses.each do |course| %>
          <div class="col-12 col-md-6 d-flex">

            <!-- Card -->
            <div class="card shadow-light-lg mb-6">

              <!-- Image -->
            <a class="card-img-top" href="#!">
              <img src="assets/img/photos/photo-28.jpg" alt="..." class="img-fluid">
            </a>

            <!-- Shape -->
            <div class="position-relative">
              <div class="shape shape-bottom shape-fluid-x text-white">
                <svg viewBox="0 0 2880 480" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2160 0C1440 240 720 240 720 240H0v240h2880V0h-720z" fill="currentColor"></path></svg>                </div>
            </div>

            <!-- Body -->
            <%= link_to course_path(course), class: 'card-body' do %>

              <!-- Heading -->
              <h3>
                <%= course.title %>
              </h3>

              <!-- Text -->
              <p class="mb-0 text-body-secondary">
                <%= truncate(course.description, length: 100) %>
              </p>
            <% end %>

            <!-- Meta -->
            <div class="card-meta">

              <!-- Divider -->
              <hr class="card-meta-divider">

              <!-- Author -->
              <h6 class="text-uppercase text-body-secondary me-2 mb-0">
                <%= pluralize(course.lessons.count, 'lesson') %>
              </h6>

              <%= link_to 'View Course', course_path(course), class: 'h6 text-uppercase text-body-secondary mb-0 ms-auto' %>

            </div>

          </div>
        </div>
        <% end %>
      </div>
    <% else %>
      <p>No courses available yet.</p>
    <% end %>
  </div> <!-- / .container -->
</section>

<% if user_signed_in? && current_user.admin? %>
  <div class="mt-4">
    <%= link_to 'New Course', new_course_path, class: 'btn btn-success' %>
  </div>
<% end %>
